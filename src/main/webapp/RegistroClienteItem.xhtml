<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui" xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head><title>Items del cliente</title></h:head>
    <h:body>
        <h:form id="ItemsClientes">
          <p:layout style="min-width:600px;min-height:750px;">
              <p:layoutUnit resizable="true" position="center" header="Lista de Items en alquiler del cliente seleccionado">
                  <p:dataTable id="TablaItems" var="Items"  value="#{AlquilerItems.consultarItemsCliente}">
                     
                      <p:column headerText="ID item">
                          <h:outputText value="#{Items.item.id}"/>
                      </p:column>
                      <p:column headerText="Nombre Item">
                          <h:outputText value="#{Items.item.nombre}"/>
                      </p:column>

                      <p:column headerText="Fecha inicio de renta">
                          <h:outputText value="#{Items.fechainiciorenta }"/>
                      </p:column>

                      <p:column headerText="Fecha fin de renta">
                          <h:outputText value="#{Items.fechafinrenta}"/>
                      </p:column>

                      <p:column headerText="Tarifa X dia">
                          <h:outputText value="#{Items.item.tarifaxDia }"/>
                      </p:column>
                  </p:dataTable>
                  <br/>
                  <h:outputText value="Multa: #{AlquilerItems.consultarMultaAlquiler}" />
                  <br/>
              </p:layoutUnit>
              <p:layoutUnit resizable="true" position="south" header="Registrar nuevo Alquiler" size="550">
                  <p:panel id="panelAlquiler" header="Item rentado">
                      <p:dataTable id="ItemsD" var="ItemD"  value="#{AlquilerItems.consultarItemsDisponibles}">
                          <p:column headerText="ID Items Disponibles">
                            <h:outputText value="#{ItemD.id}"/>
                          </p:column>
                      </p:dataTable>
                      <h:panelGrid columns="2" cellpadding="5">
                          <p:outputLabel for="codigo" value="Codigo de item:" />
                          <p:inputText  id="codigo" value="#{AlquilerItems.codigoBarras}" label="Codigo"></p:inputText>

                          <p:outputLabel for="diasAlquiler" value="Dias de alquiler:" />
                          <p:inputText  id="diasAlquiler" value="#{AlquilerItems.dias}" label="Dias de alquiler"></p:inputText>
                          
                          <p:commandButton value="Consultar costo " update="costo" actionListener="#{AlquilerItems.consultarCostoAlquiler}" />
                          <p:outputLabel id="costo" value="   #{AlquilerItems.costo} " />
                          <br/>
                      </h:panelGrid>
                      <p:commandButton value="Registrar nuevo alquiler" update="panelAlquiler,TablaItems" actionListener="#{AlquilerItems.registrarAlquiler}" />
                  </p:panel>
                  <p:commandButton type="submit" value="Volver a registro de clientes"  update="ItemsClientes" action="RegistroClientes" />
                  
              </p:layoutUnit> 
              
          </p:layout>
       </h:form>

    </h:body>

</html>
